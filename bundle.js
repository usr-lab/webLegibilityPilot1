(()=>{function n(n){return function(n){if(Array.isArray(n))return t(n)}(n)||function(n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(n))return Array.from(n)}(n)||function(n,e){if(n){if("string"==typeof n)return t(n,e);var o=Object.prototype.toString.call(n).slice(8,-1);return"Object"===o&&n.constructor&&(o=n.constructor.name),"Map"===o||"Set"===o?Array.from(n):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?t(n,e):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,o=new Array(t);e<t;e++)o[e]=n[e];return o}function e(n,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}window.onload=function(){var t,o=new URLSearchParams(window.location.search).get("environment");t="example"===o?"".concat(window.location.origin,"/assets/example.png"):"twoGoals"===o?"".concat(window.location.origin,"/assets/two_goals.png"):"manyGoals"===o?"".concat(window.location.origin,"/assets/many_goals.png"):"https://picsum.photos/500/500",document.getElementById("environment").src=t;var r=document.getElementById("paint-canvas"),a=r.getContext("2d"),i=r.getBoundingClientRect();function c(n){return[n.clientX-i.left,n.clientY-i.top]}function s(){a.clearRect(0,0,r.width,r.height)}var l,u=function(){function n(){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.x=[],this.y=[],this.time=[]}var t,o;return t=n,(o=[{key:"add",value:function(n,t){this.x.push(n),this.y.push(t),this.time.push(Date.now())}}])&&e(t.prototype,o),n}(),d=!1;a.strokeStyle="black",a.lineWidth=5,r.addEventListener("mousedown",(function(t){var e;if(!d){d=!0,s(),a.beginPath(),l=new u;var o=c(t);(e=l).add.apply(e,n(o)),a.moveTo.apply(a,n(o))}})),r.addEventListener("mousemove",(function(t){if(d){var e,o=c(t);(e=l).add.apply(e,n(o)),a.lineTo.apply(a,n(o)),a.stroke()}})),r.addEventListener("mouseup",(function(t){var e,o=c(t);(e=l).add.apply(e,n(o)),a.moveTo.apply(a,n(o)),d=!1,window.parent.postMessage(l,"*")})),document.getElementById("clear").addEventListener("click",(function(){s(),l=new u,window.parent.postMessage(l,"*")}))}})();